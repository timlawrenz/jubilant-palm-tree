{"id": "2d055c279d5f8381e141f06373f4aaa0", "repo_name": "fastlane", "file_path": "./repos/fastlane/fastlane/lib/fastlane/actions/actions_helper.rb", "method_name": "is_deprecated?", "method_source": "def self.is_deprecated?(class_ref)\n      is_class_action?(class_ref) && class_ref.category == :deprecated\n    end", "ast_json": "{\"type\":\"defs\",\"children\":[{\"type\":\"self\",\"children\":[]},\"is_deprecated?\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"class_ref\"]}]},{\"type\":\"and\",\"children\":[{\"type\":\"send\",\"children\":[null,\"is_class_action?\",{\"type\":\"lvar\",\"children\":[\"class_ref\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"class_ref\"]},\"category\"]},\"==\",{\"type\":\"sym\",\"children\":[\"deprecated\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "ises deprecated?"}]}
{"id": "660245f8108b5b0453588797ae0095ad", "repo_name": "puma", "file_path": "./repos/puma/benchmarks/local/bench_base.rb", "method_name": "setup_options", "method_source": "def setup_options\n      # STDOUT.syswrite \"\\n\\n#{ARGV}\\n\"\n\n      OptionParser.new do |o|\n        o.on \"-T\", \"--stream-threads THREADS\", OptionParser::DecimalInteger, \"request_stream: loops/threads\" do |arg|\n          @stream_threads = arg.to_i\n        end\n\n        o.on \"-c\", \"--wrk-connections CONNECTIONS\", OptionParser::DecimalInteger, \"request_stream: clients_per_thread\" do |arg|\n          @connections = arg.to_i\n        end\n\n        o.on \"-R\", \"--requests REQUESTS\", OptionParser::DecimalInteger, \"request_stream: requests per socket\" do |arg|\n          @req_per_connection = arg.to_i\n        end\n\n        o.on \"-D\", \"--duration DURATION\", OptionParser::DecimalInteger, \"wrk/stream: duration\" do |arg|\n          @duration = arg.to_i\n        end\n\n        o.on \"-d\", \"--dly_app DELAYAPP\", Float, \"CI RackUp: app response delay\" do |arg|\n          @dly_app = arg.to_f\n        end\n\n        o.on \"-s\", \"--socket SOCKETTYPE\", String, \"Bind type: tcp, ssl, tcp6, ssl6, unix, aunix\" do |arg|\n          @bind_type = arg.to_sym\n        end\n\n        o.on \"-S\", \"--state PUMA_STATEFILE\", String, \"Puma Server: state file\" do |arg|\n          @state_file = arg\n        end\n\n        o.on \"-t\", \"--threads PUMA_THREADS\", String, \"Puma Server: threads\" do |arg|\n          @threads =  arg.match?(/\\d+:\\d+/) ? arg[/\\d+\\z/].to_i : arg.to_i\n        end\n\n        o.on \"-w\", \"--workers PUMA_WORKERS\", OptionParser::DecimalInteger, \"Puma Server: workers\" do |arg|\n          @workers = arg.to_i\n        end\n\n        o.on \"-W\", \"--wrk_bind WRK_STR\", String, \"wrk: bind string\" do |arg|\n          @wrk_bind_str = arg\n        end\n\n        o.on \"-k\", \"\u0016--disable-keepalive\", \"hey no keep alive\" do\n          @no_keep_alive = true\n        end\n\n        o.on(\"-h\", \"--help\", \"Prints this help\") do\n          puts o\n          exit\n        end\n      end.parse! ARGV\n    end", "ast_json": "{\"type\":\"def\",\"children\":[\"setup_options\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"OptionParser\"]},\"new\"]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"o\"]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-T\"]},{\"type\":\"str\",\"children\":[\"--stream-threads THREADS\"]},{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"OptionParser\"]},\"DecimalInteger\"]},{\"type\":\"str\",\"children\":[\"request_stream: loops/threads\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@stream_threads\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_i\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-c\"]},{\"type\":\"str\",\"children\":[\"--wrk-connections CONNECTIONS\"]},{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"OptionParser\"]},\"DecimalInteger\"]},{\"type\":\"str\",\"children\":[\"request_stream: clients_per_thread\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@connections\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_i\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-R\"]},{\"type\":\"str\",\"children\":[\"--requests REQUESTS\"]},{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"OptionParser\"]},\"DecimalInteger\"]},{\"type\":\"str\",\"children\":[\"request_stream: requests per socket\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@req_per_connection\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_i\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-D\"]},{\"type\":\"str\",\"children\":[\"--duration DURATION\"]},{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"OptionParser\"]},\"DecimalInteger\"]},{\"type\":\"str\",\"children\":[\"wrk/stream: duration\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@duration\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_i\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-d\"]},{\"type\":\"str\",\"children\":[\"--dly_app DELAYAPP\"]},{\"type\":\"const\",\"children\":[null,\"Float\"]},{\"type\":\"str\",\"children\":[\"CI RackUp: app response delay\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@dly_app\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_f\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-s\"]},{\"type\":\"str\",\"children\":[\"--socket SOCKETTYPE\"]},{\"type\":\"const\",\"children\":[null,\"String\"]},{\"type\":\"str\",\"children\":[\"Bind type: tcp, ssl, tcp6, ssl6, unix, aunix\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@bind_type\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_sym\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-S\"]},{\"type\":\"str\",\"children\":[\"--state PUMA_STATEFILE\"]},{\"type\":\"const\",\"children\":[null,\"String\"]},{\"type\":\"str\",\"children\":[\"Puma Server: state file\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@state_file\",{\"type\":\"lvar\",\"children\":[\"arg\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-t\"]},{\"type\":\"str\",\"children\":[\"--threads PUMA_THREADS\"]},{\"type\":\"const\",\"children\":[null,\"String\"]},{\"type\":\"str\",\"children\":[\"Puma Server: threads\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@threads\",{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"match?\",{\"type\":\"regexp\",\"children\":[{\"type\":\"str\",\"children\":[\"\\\\d+:\\\\d+\"]},{\"type\":\"regopt\",\"children\":[]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"[]\",{\"type\":\"regexp\",\"children\":[{\"type\":\"str\",\"children\":[\"\\\\d+\\\\z\"]},{\"type\":\"regopt\",\"children\":[]}]}]},\"to_i\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_i\"]}]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-w\"]},{\"type\":\"str\",\"children\":[\"--workers PUMA_WORKERS\"]},{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"OptionParser\"]},\"DecimalInteger\"]},{\"type\":\"str\",\"children\":[\"Puma Server: workers\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@workers\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"arg\"]},\"to_i\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-W\"]},{\"type\":\"str\",\"children\":[\"--wrk_bind WRK_STR\"]},{\"type\":\"const\",\"children\":[null,\"String\"]},{\"type\":\"str\",\"children\":[\"wrk: bind string\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"arg\"]}]},{\"type\":\"ivasgn\",\"children\":[\"@wrk_bind_str\",{\"type\":\"lvar\",\"children\":[\"arg\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-k\"]},{\"type\":\"str\",\"children\":[\"\\u0016--disable-keepalive\"]},{\"type\":\"str\",\"children\":[\"hey no keep alive\"]}]},{\"type\":\"args\",\"children\":[]},{\"type\":\"ivasgn\",\"children\":[\"@no_keep_alive\",{\"type\":\"true\",\"children\":[]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"o\"]},\"on\",{\"type\":\"str\",\"children\":[\"-h\"]},{\"type\":\"str\",\"children\":[\"--help\"]},{\"type\":\"str\",\"children\":[\"Prints this help\"]}]},{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[null,\"puts\",{\"type\":\"lvar\",\"children\":[\"o\"]}]},{\"type\":\"send\",\"children\":[null,\"exit\"]}]}]}]}]},\"parse!\",{\"type\":\"const\",\"children\":[null,\"ARGV\"]}]}]}", "descriptions": [{"source": "method_name", "text": "setups options"}, {"source": "docstring", "text": "STDOUT.syswrite \"\\n\\n#{ARGV}\\n\""}]}
{"id": "340931e0e1d7c9139e441e8148079efc", "repo_name": "spree", "file_path": "./repos/spree/admin/app/helpers/spree/admin/orders_filters_helper.rb", "method_name": "params_to_filters", "method_source": "def params_to_filters(search_params:, vendor: nil, user: nil)\n        if search_params.is_a?(String)\n          search_params = JSON.parse(search_params).deep_symbolize_keys\n        end\n\n        search_params.delete(:inventory_units_shipment_id_null) if search_params[:inventory_units_shipment_id_null] == '0'\n\n        if search_params[:number_cont]\n          search_params[:number_cont] = search_params[:number_cont].split('-').first\n        end\n\n        if search_params[:created_at_gt].present?\n          search_params[:created_at_gt] = begin\n                                            # Firstly we parse to date to avoid issues with timezones because frontend sends time in local timezone\n                                            search_params[:created_at_gt].to_date&.in_time_zone(current_timezone)\n                                          rescue StandardError\n                                            ''\n                                          end\n        end\n\n        if search_params[:created_at_lt].present?\n          search_params[:created_at_lt] = begin\n                                            search_params[:created_at_lt].to_date&.in_time_zone(current_timezone)&.end_of_day\n                                          rescue StandardError\n                                            ''\n                                          end\n        end\n\n        if search_params[:completed_at_gt].present?\n          search_params[:completed_at_gt] = begin\n                                            search_params[:completed_at_gt].to_date&.in_time_zone(current_timezone)\n                                          rescue StandardError\n                                            ''\n                                          end\n        end\n\n        if search_params[:completed_at_lt].present?\n          search_params[:completed_at_lt] = begin\n                                            search_params[:completed_at_lt].to_date&.in_time_zone(current_timezone)&.end_of_day\n                                          rescue StandardError\n                                            ''\n                                          end\n        end\n\n        search_params[:vendor_orders_vendor_id_eq] = vendor.id if vendor.present?\n        search_params[:user_id_eq] = user.id if user.present?\n\n        search_params\n      end", "ast_json": "{\"type\":\"def\",\"children\":[\"params_to_filters\",{\"type\":\"args\",\"children\":[{\"type\":\"kwarg\",\"children\":[\"search_params\"]},{\"type\":\"kwoptarg\",\"children\":[\"vendor\",{\"type\":\"nil\",\"children\":[]}]},{\"type\":\"kwoptarg\",\"children\":[\"user\",{\"type\":\"nil\",\"children\":[]}]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"is_a?\",{\"type\":\"const\",\"children\":[null,\"String\"]}]},{\"type\":\"lvasgn\",\"children\":[\"search_params\",{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"JSON\"]},\"parse\",{\"type\":\"lvar\",\"children\":[\"search_params\"]}]},\"deep_symbolize_keys\"]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"inventory_units_shipment_id_null\"]}]},\"==\",{\"type\":\"str\",\"children\":[\"0\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"delete\",{\"type\":\"sym\",\"children\":[\"inventory_units_shipment_id_null\"]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"number_cont\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]=\",{\"type\":\"sym\",\"children\":[\"number_cont\"]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"number_cont\"]}]},\"split\",{\"type\":\"str\",\"children\":[\"-\"]}]},\"first\"]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"created_at_gt\"]}]},\"present?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]=\",{\"type\":\"sym\",\"children\":[\"created_at_gt\"]},{\"type\":\"kwbegin\",\"children\":[{\"type\":\"rescue\",\"children\":[{\"type\":\"csend\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"created_at_gt\"]}]},\"to_date\"]},\"in_time_zone\",{\"type\":\"send\",\"children\":[null,\"current_timezone\"]}]},{\"type\":\"resbody\",\"children\":[{\"type\":\"array\",\"children\":[{\"type\":\"const\",\"children\":[null,\"StandardError\"]}]},null,{\"type\":\"str\",\"children\":[\"\"]}]},null]}]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"created_at_lt\"]}]},\"present?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]=\",{\"type\":\"sym\",\"children\":[\"created_at_lt\"]},{\"type\":\"kwbegin\",\"children\":[{\"type\":\"rescue\",\"children\":[{\"type\":\"csend\",\"children\":[{\"type\":\"csend\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"created_at_lt\"]}]},\"to_date\"]},\"in_time_zone\",{\"type\":\"send\",\"children\":[null,\"current_timezone\"]}]},\"end_of_day\"]},{\"type\":\"resbody\",\"children\":[{\"type\":\"array\",\"children\":[{\"type\":\"const\",\"children\":[null,\"StandardError\"]}]},null,{\"type\":\"str\",\"children\":[\"\"]}]},null]}]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"completed_at_gt\"]}]},\"present?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]=\",{\"type\":\"sym\",\"children\":[\"completed_at_gt\"]},{\"type\":\"kwbegin\",\"children\":[{\"type\":\"rescue\",\"children\":[{\"type\":\"csend\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"completed_at_gt\"]}]},\"to_date\"]},\"in_time_zone\",{\"type\":\"send\",\"children\":[null,\"current_timezone\"]}]},{\"type\":\"resbody\",\"children\":[{\"type\":\"array\",\"children\":[{\"type\":\"const\",\"children\":[null,\"StandardError\"]}]},null,{\"type\":\"str\",\"children\":[\"\"]}]},null]}]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"completed_at_lt\"]}]},\"present?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]=\",{\"type\":\"sym\",\"children\":[\"completed_at_lt\"]},{\"type\":\"kwbegin\",\"children\":[{\"type\":\"rescue\",\"children\":[{\"type\":\"csend\",\"children\":[{\"type\":\"csend\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]\",{\"type\":\"sym\",\"children\":[\"completed_at_lt\"]}]},\"to_date\"]},\"in_time_zone\",{\"type\":\"send\",\"children\":[null,\"current_timezone\"]}]},\"end_of_day\"]},{\"type\":\"resbody\",\"children\":[{\"type\":\"array\",\"children\":[{\"type\":\"const\",\"children\":[null,\"StandardError\"]}]},null,{\"type\":\"str\",\"children\":[\"\"]}]},null]}]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"vendor\"]},\"present?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]=\",{\"type\":\"sym\",\"children\":[\"vendor_orders_vendor_id_eq\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"vendor\"]},\"id\"]}]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"user\"]},\"present?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"search_params\"]},\"[]=\",{\"type\":\"sym\",\"children\":[\"user_id_eq\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"user\"]},\"id\"]}]},null]},{\"type\":\"lvar\",\"children\":[\"search_params\"]}]}]}", "descriptions": [{"source": "method_name", "text": "paramses to filters"}, {"source": "docstring", "text": "Firstly we parse to date to avoid issues with timezones because frontend sends time in local timezone"}]}
{"id": "efc1061ea6e86da6dd2a27034d91314d", "repo_name": "discourse", "file_path": "./repos/discourse/app/models/user_visit.rb", "method_name": "ensure_consistency!", "method_source": "def self.ensure_consistency!\n    DB.exec <<~SQL\n      UPDATE user_stats u set days_visited =\n      (\n        SELECT COUNT(*) FROM user_visits v WHERE v.user_id = u.user_id\n      )\n      WHERE days_visited <>\n      (\n        SELECT COUNT(*) FROM user_visits v WHERE v.user_id = u.user_id\n      )\n    SQL\n  end", "ast_json": "{\"type\":\"defs\",\"children\":[{\"type\":\"self\",\"children\":[]},\"ensure_consistency!\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"DB\"]},\"exec\",{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\"UPDATE user_stats u set days_visited =\\n\"]},{\"type\":\"str\",\"children\":[\"(\\n\"]},{\"type\":\"str\",\"children\":[\"  SELECT COUNT(*) FROM user_visits v WHERE v.user_id = u.user_id\\n\"]},{\"type\":\"str\",\"children\":[\")\\n\"]},{\"type\":\"str\",\"children\":[\"WHERE days_visited <>\\n\"]},{\"type\":\"str\",\"children\":[\"(\\n\"]},{\"type\":\"str\",\"children\":[\"  SELECT COUNT(*) FROM user_visits v WHERE v.user_id = u.user_id\\n\"]},{\"type\":\"str\",\"children\":[\")\\n\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "ensures consistency!"}, {"source": "test_description", "text": "can ensure consistency"}]}
{"id": "978426c56488a9340c3b88b77e45be61", "repo_name": "aws-sdk-ruby", "file_path": "./repos/aws-sdk-ruby/gems/aws-sdk-sagemaker/lib/aws-sdk-sagemaker/client.rb", "method_name": "delete_studio_lifecycle_config", "method_source": "def delete_studio_lifecycle_config(params = {}, options = {})\n      req = build_request(:delete_studio_lifecycle_config, params)\n      req.send_request(options)\n    end", "ast_json": "{\"type\":\"def\",\"children\":[\"delete_studio_lifecycle_config\",{\"type\":\"args\",\"children\":[{\"type\":\"optarg\",\"children\":[\"params\",{\"type\":\"hash\",\"children\":[]}]},{\"type\":\"optarg\",\"children\":[\"options\",{\"type\":\"hash\",\"children\":[]}]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"req\",{\"type\":\"send\",\"children\":[null,\"build_request\",{\"type\":\"sym\",\"children\":[\"delete_studio_lifecycle_config\"]},{\"type\":\"lvar\",\"children\":[\"params\"]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"req\"]},\"send_request\",{\"type\":\"lvar\",\"children\":[\"options\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "deletes studio lifecycle config"}]}
{"id": "39e7cb31f1a931cc7afaa5ff4549bcd6", "repo_name": "aws-sdk-ruby", "file_path": "./repos/aws-sdk-ruby/gems/aws-sdk-savingsplans/lib/aws-sdk-savingsplans/client.rb", "method_name": "delete_queued_savings_plan", "method_source": "def delete_queued_savings_plan(params = {}, options = {})\n      req = build_request(:delete_queued_savings_plan, params)\n      req.send_request(options)\n    end", "ast_json": "{\"type\":\"def\",\"children\":[\"delete_queued_savings_plan\",{\"type\":\"args\",\"children\":[{\"type\":\"optarg\",\"children\":[\"params\",{\"type\":\"hash\",\"children\":[]}]},{\"type\":\"optarg\",\"children\":[\"options\",{\"type\":\"hash\",\"children\":[]}]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"req\",{\"type\":\"send\",\"children\":[null,\"build_request\",{\"type\":\"sym\",\"children\":[\"delete_queued_savings_plan\"]},{\"type\":\"lvar\",\"children\":[\"params\"]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"req\"]},\"send_request\",{\"type\":\"lvar\",\"children\":[\"options\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "deletes queued savings plan"}]}
{"id": "1edc486b11d1fd9063589dab7552d3b3", "repo_name": "discourse", "file_path": "./repos/discourse/spec/system/page_objects/components/navigation_menu/sidebar.rb", "method_name": "open_on_mobile", "method_source": "def open_on_mobile\n          click_button(\"toggle-hamburger-menu\")\n          wait_for_animation(find(\"div.menu-panel\"))\n        end", "ast_json": "{\"type\":\"def\",\"children\":[\"open_on_mobile\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[null,\"click_button\",{\"type\":\"str\",\"children\":[\"toggle-hamburger-menu\"]}]},{\"type\":\"send\",\"children\":[null,\"wait_for_animation\",{\"type\":\"send\",\"children\":[null,\"find\",{\"type\":\"str\",\"children\":[\"div.menu-panel\"]}]}]}]}]}", "descriptions": [{"source": "method_name", "text": "opens on mobile"}]}
{"id": "070aa32aed34a4649720ecf246ea8d2d", "repo_name": "sinatra", "file_path": "./repos/sinatra/sinatra-contrib/lib/sinatra/cookies.rb", "method_name": "set", "method_source": "def set(key, options = {})\n        @response.set_cookie key.to_s, @options.merge(options)\n      end", "ast_json": "{\"type\":\"def\",\"children\":[\"set\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"key\"]},{\"type\":\"optarg\",\"children\":[\"options\",{\"type\":\"hash\",\"children\":[]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"ivar\",\"children\":[\"@response\"]},\"set_cookie\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"key\"]},\"to_s\"]},{\"type\":\"send\",\"children\":[{\"type\":\"ivar\",\"children\":[\"@options\"]},\"merge\",{\"type\":\"lvar\",\"children\":[\"options\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "sets"}]}
{"id": "53cf01fda181fab0578ca627b5ec5a0f", "repo_name": "forem", "file_path": "./repos/forem/db/migrate/20191210144342_add_any_comments_hidden_to_articles.rb", "method_name": "change", "method_source": "def change\n    add_column :articles, :any_comments_hidden, :boolean, default: false\n    add_column :podcast_episodes, :any_comments_hidden, :boolean, default: false\n  end", "ast_json": "{\"type\":\"def\",\"children\":[\"change\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[null,\"add_column\",{\"type\":\"sym\",\"children\":[\"articles\"]},{\"type\":\"sym\",\"children\":[\"any_comments_hidden\"]},{\"type\":\"sym\",\"children\":[\"boolean\"]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"default\"]},{\"type\":\"false\",\"children\":[]}]}]}]},{\"type\":\"send\",\"children\":[null,\"add_column\",{\"type\":\"sym\",\"children\":[\"podcast_episodes\"]},{\"type\":\"sym\",\"children\":[\"any_comments_hidden\"]},{\"type\":\"sym\",\"children\":[\"boolean\"]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"default\"]},{\"type\":\"false\",\"children\":[]}]}]}]}]}]}", "descriptions": [{"source": "method_name", "text": "changes"}]}
{"id": "e4ecf75b1bdb95ba784dd20437408b46", "repo_name": "mastodon", "file_path": "./repos/mastodon/spec/support/matchers/cacheable_response.rb", "method_name": "check_vary", "method_source": "def check_vary\n    \"Response `Vary` header does not contain `#{@expected_vary}`\" unless @response.headers['Vary'].include?(@expected_vary)\n  end", "ast_json": "{\"type\":\"def\",\"children\":[\"check_vary\",{\"type\":\"args\",\"children\":[]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"ivar\",\"children\":[\"@response\"]},\"headers\"]},\"[]\",{\"type\":\"str\",\"children\":[\"Vary\"]}]},\"include?\",{\"type\":\"ivar\",\"children\":[\"@expected_vary\"]}]},null,{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\"Response `Vary` header does not contain `\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"ivar\",\"children\":[\"@expected_vary\"]}]},{\"type\":\"str\",\"children\":[\"`\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "checks vary"}]}
{"id": "0cf93b239136c42f5de0c07bcb86ee27", "repo_name": "aws-sdk-ruby", "file_path": "./repos/aws-sdk-ruby/gems/aws-sdk-ssmcontacts/lib/aws-sdk-ssmcontacts/errors.rb", "method_name": "initialize", "method_source": "def initialize(context, message, data = Aws::EmptyStructure.new)\n        super(context, message, data)\n      end", "ast_json": "{\"type\":\"def\",\"children\":[\"initialize\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"context\"]},{\"type\":\"arg\",\"children\":[\"message\"]},{\"type\":\"optarg\",\"children\":[\"data\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Aws\"]},\"EmptyStructure\"]},\"new\"]}]}]},{\"type\":\"super\",\"children\":[{\"type\":\"lvar\",\"children\":[\"context\"]},{\"type\":\"lvar\",\"children\":[\"message\"]},{\"type\":\"lvar\",\"children\":[\"data\"]}]}]}", "descriptions": [{"source": "method_name", "text": "initializes"}]}
{"id": "813d31d041efef0dcb55fcff9be47288", "repo_name": "spree", "file_path": "./repos/spree/core/app/models/spree/report.rb", "method_name": "line_items_scope", "method_source": "def line_items_scope\n      raise NotImplementedError, \"Subclass #{self.class.name} must implement #line_items_scope\"\n    end", "ast_json": "{\"type\":\"def\",\"children\":[\"line_items_scope\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[null,\"raise\",{\"type\":\"const\",\"children\":[null,\"NotImplementedError\"]},{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\"Subclass \"]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"self\",\"children\":[]},\"class\"]},\"name\"]}]},{\"type\":\"str\",\"children\":[\" must implement #line_items_scope\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "lines items scope"}]}
{"id": "ab986ecd74a9cdd5bf8146202b89a760", "repo_name": "rails", "file_path": "./repos/rails/activesupport/lib/active_support/inflector/inflections.rb", "method_name": "human", "method_source": "def human(rule, replacement)\n        @humans.prepend([rule, replacement])\n      end", "ast_json": "{\"type\":\"def\",\"children\":[\"human\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"rule\"]},{\"type\":\"arg\",\"children\":[\"replacement\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"ivar\",\"children\":[\"@humans\"]},\"prepend\",{\"type\":\"array\",\"children\":[{\"type\":\"lvar\",\"children\":[\"rule\"]},{\"type\":\"lvar\",\"children\":[\"replacement\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "humans"}]}
{"id": "e7e660ff4e128664e8f303da845b5d38", "repo_name": "aws-sdk-ruby", "file_path": "./repos/aws-sdk-ruby/gems/aws-sdk-codedeploy/lib/aws-sdk-codedeploy/errors.rb", "method_name": "initialize", "method_source": "def initialize(context, message, data = Aws::EmptyStructure.new)\n        super(context, message, data)\n      end", "ast_json": "{\"type\":\"def\",\"children\":[\"initialize\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"context\"]},{\"type\":\"arg\",\"children\":[\"message\"]},{\"type\":\"optarg\",\"children\":[\"data\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Aws\"]},\"EmptyStructure\"]},\"new\"]}]}]},{\"type\":\"super\",\"children\":[{\"type\":\"lvar\",\"children\":[\"context\"]},{\"type\":\"lvar\",\"children\":[\"message\"]},{\"type\":\"lvar\",\"children\":[\"data\"]}]}]}", "descriptions": [{"source": "method_name", "text": "initializes"}]}
{"id": "602a58603da71fc63e5a340bdfd4f4d8", "repo_name": "rails", "file_path": "./repos/rails/activesupport/test/core_ext/module_test.rb", "method_name": "test_delegation_with_allow_nil", "method_source": "def test_delegation_with_allow_nil\n    rails = Project.new(\"Rails\", Someone.new(\"David\"))\n    assert_equal \"David\", rails.name\n  end", "ast_json": "{\"type\":\"def\",\"children\":[\"test_delegation_with_allow_nil\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"rails\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Project\"]},\"new\",{\"type\":\"str\",\"children\":[\"Rails\"]},{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Someone\"]},\"new\",{\"type\":\"str\",\"children\":[\"David\"]}]}]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"str\",\"children\":[\"David\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"rails\"]},\"name\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "tests delegation with allow nil"}]}
{"id": "f13ae9b023db034588af59119bcace5b", "repo_name": "rails", "file_path": "./repos/rails/actionview/test/template/resolver_shared_tests.rb", "method_name": "test_returns_no_results_with_dot", "method_source": "def test_returns_no_results_with_dot\n    with_file \"test/hello_world.html.erb\", \"Hello html!\"\n\n    assert_empty context.find_all(\"hello_world.html\", \"test\", false, [], {})\n  end", "ast_json": "{\"type\":\"def\",\"children\":[\"test_returns_no_results_with_dot\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[null,\"with_file\",{\"type\":\"str\",\"children\":[\"test/hello_world.html.erb\"]},{\"type\":\"str\",\"children\":[\"Hello html!\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_empty\",{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"context\"]},\"find_all\",{\"type\":\"str\",\"children\":[\"hello_world.html\"]},{\"type\":\"str\",\"children\":[\"test\"]},{\"type\":\"false\",\"children\":[]},{\"type\":\"array\",\"children\":[]},{\"type\":\"hash\",\"children\":[]}]}]}]}]}", "descriptions": [{"source": "method_name", "text": "tests returns no results with dot"}]}
{"id": "0450af8ed1ffc62209c96499225e564b", "repo_name": "rails", "file_path": "./repos/rails/activerecord/test/cases/migration_test.rb", "method_name": "test_copied_migrations_at_timestamp_boundary_are_valid", "method_source": "def test_copied_migrations_at_timestamp_boundary_are_valid\n      migrations_path_source = MIGRATIONS_ROOT + \"/temp_source\"\n      migrations_path_dest = MIGRATIONS_ROOT + \"/temp_dest\"\n      migrations = [\"20180101010101_test_migration.rb\", \"20180101010102_test_migration_two.rb\", \"20180101010103_test_migration_three.rb\"]\n\n      with_temp_migration_files(migrations, migrations_path_source) do\n        travel_to(Time.utc(2023, 12, 1, 10, 10, 59)) do\n          ActiveRecord::Migration.copy(migrations_path_dest, temp: migrations_path_source)\n\n          assert File.exist?(migrations_path_dest + \"/20231201101059_test_migration.temp.rb\")\n          assert File.exist?(migrations_path_dest + \"/20231201101060_test_migration_two.temp.rb\")\n          assert File.exist?(migrations_path_dest + \"/20231201101061_test_migration_three.temp.rb\")\n\n          migrator = ActiveRecord::MigrationContext.new(migrations_path_dest, @schema_migration, @internal_metadata)\n          migrator.up(20231201101059)\n          migrator.up(20231201101060)\n          migrator.up(20231201101061)\n\n          assert_equal 20231201101061, migrator.current_version\n          assert_not migrator.needs_migration?\n        end\n      end\n    ensure\n      File.delete(*Dir[migrations_path_dest + \"/*.rb\"])\n      Dir.rmdir(migrations_path_dest) if Dir.exist?(migrations_path_dest)\n    end", "ast_json": "{\"type\":\"def\",\"children\":[\"test_copied_migrations_at_timestamp_boundary_are_valid\",{\"type\":\"args\",\"children\":[]},{\"type\":\"ensure\",\"children\":[{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"migrations_path_source\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"MIGRATIONS_ROOT\"]},\"+\",{\"type\":\"str\",\"children\":[\"/temp_source\"]}]}]},{\"type\":\"lvasgn\",\"children\":[\"migrations_path_dest\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"MIGRATIONS_ROOT\"]},\"+\",{\"type\":\"str\",\"children\":[\"/temp_dest\"]}]}]},{\"type\":\"lvasgn\",\"children\":[\"migrations\",{\"type\":\"array\",\"children\":[{\"type\":\"str\",\"children\":[\"20180101010101_test_migration.rb\"]},{\"type\":\"str\",\"children\":[\"20180101010102_test_migration_two.rb\"]},{\"type\":\"str\",\"children\":[\"20180101010103_test_migration_three.rb\"]}]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[null,\"with_temp_migration_files\",{\"type\":\"lvar\",\"children\":[\"migrations\"]},{\"type\":\"lvar\",\"children\":[\"migrations_path_source\"]}]},{\"type\":\"args\",\"children\":[]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[null,\"travel_to\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Time\"]},\"utc\",{\"type\":\"int\",\"children\":[2023]},{\"type\":\"int\",\"children\":[12]},{\"type\":\"int\",\"children\":[1]},{\"type\":\"int\",\"children\":[10]},{\"type\":\"int\",\"children\":[10]},{\"type\":\"int\",\"children\":[59]}]}]},{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"ActiveRecord\"]},\"Migration\"]},\"copy\",{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"temp\"]},{\"type\":\"lvar\",\"children\":[\"migrations_path_source\"]}]}]}]},{\"type\":\"send\",\"children\":[null,\"assert\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"File\"]},\"exist?\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]},\"+\",{\"type\":\"str\",\"children\":[\"/20231201101059_test_migration.temp.rb\"]}]}]}]},{\"type\":\"send\",\"children\":[null,\"assert\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"File\"]},\"exist?\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]},\"+\",{\"type\":\"str\",\"children\":[\"/20231201101060_test_migration_two.temp.rb\"]}]}]}]},{\"type\":\"send\",\"children\":[null,\"assert\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"File\"]},\"exist?\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]},\"+\",{\"type\":\"str\",\"children\":[\"/20231201101061_test_migration_three.temp.rb\"]}]}]}]},{\"type\":\"lvasgn\",\"children\":[\"migrator\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"ActiveRecord\"]},\"MigrationContext\"]},\"new\",{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]},{\"type\":\"ivar\",\"children\":[\"@schema_migration\"]},{\"type\":\"ivar\",\"children\":[\"@internal_metadata\"]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrator\"]},\"up\",{\"type\":\"int\",\"children\":[20231201101059]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrator\"]},\"up\",{\"type\":\"int\",\"children\":[20231201101060]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrator\"]},\"up\",{\"type\":\"int\",\"children\":[20231201101061]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"int\",\"children\":[20231201101061]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrator\"]},\"current_version\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_not\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrator\"]},\"needs_migration?\"]}]}]}]}]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"File\"]},\"delete\",{\"type\":\"splat\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Dir\"]},\"[]\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]},\"+\",{\"type\":\"str\",\"children\":[\"/*.rb\"]}]}]}]}]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Dir\"]},\"exist?\",{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Dir\"]},\"rmdir\",{\"type\":\"lvar\",\"children\":[\"migrations_path_dest\"]}]},null]}]}]}]}", "descriptions": [{"source": "method_name", "text": "tests copied migrations at timestamp boundary are valid"}]}
{"id": "8a835a019fd8cbaef7ddb04a3fe46d57", "repo_name": "rails", "file_path": "./repos/rails/activemodel/lib/active_model/attribute_methods.rb", "method_name": "attribute_alias?", "method_source": "def attribute_alias?(new_name)\n        attribute_aliases.key? new_name.to_s\n      end", "ast_json": "{\"type\":\"def\",\"children\":[\"attribute_alias?\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"new_name\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"attribute_aliases\"]},\"key?\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"new_name\"]},\"to_s\"]}]}]}", "descriptions": [{"source": "method_name", "text": "attributes alias?"}]}
{"id": "5daf95e1408ed776c1aab13fd3221ee1", "repo_name": "aws-sdk-ruby", "file_path": "./repos/aws-sdk-ruby/gems/aws-sdk-qldb/lib/aws-sdk-qldb/endpoint_parameters.rb", "method_name": "create", "method_source": "def self.create(config, options={})\n      new({\n        region: config.region,\n        use_dual_stack: config.use_dualstack_endpoint,\n        use_fips: config.use_fips_endpoint,\n        endpoint: (config.endpoint.to_s unless config.regional_endpoint),\n      }.merge(options))\n    end", "ast_json": "{\"type\":\"defs\",\"children\":[{\"type\":\"self\",\"children\":[]},\"create\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"config\"]},{\"type\":\"optarg\",\"children\":[\"options\",{\"type\":\"hash\",\"children\":[]}]}]},{\"type\":\"send\",\"children\":[null,\"new\",{\"type\":\"send\",\"children\":[{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"region\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"config\"]},\"region\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"use_dual_stack\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"config\"]},\"use_dualstack_endpoint\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"use_fips\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"config\"]},\"use_fips_endpoint\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"endpoint\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"config\"]},\"regional_endpoint\"]},null,{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"config\"]},\"endpoint\"]},\"to_s\"]}]}]}]}]},\"merge\",{\"type\":\"lvar\",\"children\":[\"options\"]}]}]}]}", "descriptions": [{"source": "method_name", "text": "creates"}]}
{"id": "b7135abd0467d43b1d868d8b0a4e170d", "repo_name": "reek", "file_path": "./repos/reek/samples/smelly_source/redcloth.rb", "method_name": "inline_markdown_reflink", "method_source": "def inline_markdown_reflink( text ) \n        text.gsub!( MARKDOWN_REFLINK_RE ) do |m|\n            text, id = $~[1..2]\n\n            if id.empty?\n                url, title = check_refs( text )\n            else\n                url, title = check_refs( id )\n            end\n            \n            atts = \" href=\\\"#{ url }\\\"\"\n            atts << \" title=\\\"#{ title }\\\"\" if title\n            atts = shelve( atts )\n            \n            \"<a#{ atts }>#{ text }</a>\"\n        end\n    end", "ast_json": "{\"type\":\"def\",\"children\":[\"inline_markdown_reflink\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"text\"]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"text\"]},\"gsub!\",{\"type\":\"const\",\"children\":[null,\"MARKDOWN_REFLINK_RE\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"m\"]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"masgn\",\"children\":[{\"type\":\"mlhs\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"text\"]},{\"type\":\"lvasgn\",\"children\":[\"id\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"gvar\",\"children\":[\"$~\"]},\"[]\",{\"type\":\"irange\",\"children\":[{\"type\":\"int\",\"children\":[1]},{\"type\":\"int\",\"children\":[2]}]}]}]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"id\"]},\"empty?\"]},{\"type\":\"masgn\",\"children\":[{\"type\":\"mlhs\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"url\"]},{\"type\":\"lvasgn\",\"children\":[\"title\"]}]},{\"type\":\"send\",\"children\":[null,\"check_refs\",{\"type\":\"lvar\",\"children\":[\"text\"]}]}]},{\"type\":\"masgn\",\"children\":[{\"type\":\"mlhs\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"url\"]},{\"type\":\"lvasgn\",\"children\":[\"title\"]}]},{\"type\":\"send\",\"children\":[null,\"check_refs\",{\"type\":\"lvar\",\"children\":[\"id\"]}]}]}]},{\"type\":\"lvasgn\",\"children\":[\"atts\",{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\" href=\\\"\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvar\",\"children\":[\"url\"]}]},{\"type\":\"str\",\"children\":[\"\\\"\"]}]}]},{\"type\":\"if\",\"children\":[{\"type\":\"lvar\",\"children\":[\"title\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"atts\"]},\"<<\",{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\" title=\\\"\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvar\",\"children\":[\"title\"]}]},{\"type\":\"str\",\"children\":[\"\\\"\"]}]}]},null]},{\"type\":\"lvasgn\",\"children\":[\"atts\",{\"type\":\"send\",\"children\":[null,\"shelve\",{\"type\":\"lvar\",\"children\":[\"atts\"]}]}]},{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\"<a\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvar\",\"children\":[\"atts\"]}]},{\"type\":\"str\",\"children\":[\">\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvar\",\"children\":[\"text\"]}]},{\"type\":\"str\",\"children\":[\"</a>\"]}]}]}]}]}", "descriptions": [{"source": "method_name", "text": "inlines markdown reflink"}]}
