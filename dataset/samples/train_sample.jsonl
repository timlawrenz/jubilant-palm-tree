{"repo_name":"rails","file_path":"./repos/rails/actionpack/test/controller/url_for_test.rb","start_line":442,"raw_source":"def test_hash_parameter\n        url = W.new.url_for(only_path: true, controller: \"c\", action: \"a\", query: { name: \"Bob\", category: \"prof\" })\n        params = extract_params(url)\n        assert_equal({ \"query[category]\" => \"prof\" }.to_query, params[0])\n        assert_equal({ \"query[name]\" => \"Bob\" }.to_query, params[1])\n      end","complexity_score":12.35,"ast_json":"{\"type\":\"def\",\"children\":[\"test_hash_parameter\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"url\",{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"W\"]},\"new\"]},\"url_for\",{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"only_path\"]},{\"type\":\"true\",\"children\":[]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"controller\"]},{\"type\":\"str\",\"children\":[\"c\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"action\"]},{\"type\":\"str\",\"children\":[\"a\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"query\"]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"name\"]},{\"type\":\"str\",\"children\":[\"Bob\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"category\"]},{\"type\":\"str\",\"children\":[\"prof\"]}]}]}]}]}]}]},{\"type\":\"lvasgn\",\"children\":[\"params\",{\"type\":\"send\",\"children\":[null,\"extract_params\",{\"type\":\"lvar\",\"children\":[\"url\"]}]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"send\",\"children\":[{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"str\",\"children\":[\"query[category]\"]},{\"type\":\"str\",\"children\":[\"prof\"]}]}]},\"to_query\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"params\"]},\"[]\",{\"type\":\"int\",\"children\":[0]}]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"send\",\"children\":[{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"str\",\"children\":[\"query[name]\"]},{\"type\":\"str\",\"children\":[\"Bob\"]}]}]},\"to_query\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"params\"]},\"[]\",{\"type\":\"int\",\"children\":[1]}]}]}]}]}","id":"ac51f5ac-e237-43cb-87bc-30e686a016bc"}
{"repo_name":"rubocop","file_path":"./repos/rubocop/lib/rubocop/cop/style/map_compact_with_conditional_block.rb","start_line":128,"raw_source":"def truthy_branch_for_if?(node)\n          if_node = node.parent\n\n          if if_node.if? || if_node.ternary?\n            if_node.if_branch == node\n          elsif if_node.unless?\n            if_node.else_branch == node\n          end\n        end","complexity_score":13.4,"ast_json":"{\"type\":\"def\",\"children\":[\"truthy_branch_for_if?\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"node\"]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"if_node\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"node\"]},\"parent\"]}]},{\"type\":\"if\",\"children\":[{\"type\":\"or\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"if_node\"]},\"if?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"if_node\"]},\"ternary?\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"if_node\"]},\"if_branch\"]},\"==\",{\"type\":\"lvar\",\"children\":[\"node\"]}]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"if_node\"]},\"unless?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"if_node\"]},\"else_branch\"]},\"==\",{\"type\":\"lvar\",\"children\":[\"node\"]}]},null]}]}]}]}","id":"74733631-e792-4c66-8788-74b9fe7035b2"}
{"repo_name":"rails","file_path":"./repos/rails/activerecord/test/cases/associations/callbacks_test.rb","start_line":82,"raw_source":"def test_has_many_callbacks_with_create\n    morten = Author.create name: \"Morten\"\n    post = morten.posts_with_proc_callbacks.create! title: \"Hello\", body: \"How are you doing?\"\n    assert_equal [\"before_adding<new>\", \"after_adding#{post.id}\"], morten.post_log\n  end","complexity_score":8.6,"ast_json":"{\"type\":\"def\",\"children\":[\"test_has_many_callbacks_with_create\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"morten\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Author\"]},\"create\",{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"name\"]},{\"type\":\"str\",\"children\":[\"Morten\"]}]}]}]}]},{\"type\":\"lvasgn\",\"children\":[\"post\",{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"morten\"]},\"posts_with_proc_callbacks\"]},\"create!\",{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"title\"]},{\"type\":\"str\",\"children\":[\"Hello\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"body\"]},{\"type\":\"str\",\"children\":[\"How are you doing?\"]}]}]}]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"array\",\"children\":[{\"type\":\"str\",\"children\":[\"before_adding<new>\"]},{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\"after_adding\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"post\"]},\"id\"]}]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"morten\"]},\"post_log\"]}]}]}]}","id":"cfbe7376-c7d5-4026-9871-f36079f1699c"}
{"repo_name":"hanami","file_path":"./repos/hanami/lib/hanami/extensions/view/slice_configured_helpers.rb","start_line":30,"raw_source":"def inspect\n          \"#<#{self.class.name}[#{slice.name}]>\"\n        end","complexity_score":4.4,"ast_json":"{\"type\":\"def\",\"children\":[\"inspect\",{\"type\":\"args\",\"children\":[]},{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\"#<\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"self\",\"children\":[]},\"class\"]},\"name\"]}]},{\"type\":\"str\",\"children\":[\"[\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"slice\"]},\"name\"]}]},{\"type\":\"str\",\"children\":[\"]>\"]}]}]}","id":"d879e645-85ad-42d9-a200-df0fce77f6bb"}
{"repo_name":"gitlabhq","file_path":"./repos/gitlabhq/app/helpers/auth_helper.rb","start_line":160,"raw_source":"def popular_enabled_button_based_providers\n    enabled_button_based_providers & POPULAR_PROVIDERS\n  end","complexity_score":2.2,"ast_json":"{\"type\":\"def\",\"children\":[\"popular_enabled_button_based_providers\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"enabled_button_based_providers\"]},\"&\",{\"type\":\"const\",\"children\":[null,\"POPULAR_PROVIDERS\"]}]}]}","id":"b0d06bb4-b633-4339-8d04-0b6f68d56612"}
{"repo_name":"rails","file_path":"./repos/rails/actionpack/lib/action_dispatch/routing/inspector.rb","start_line":129,"raw_source":"def collect_routes(routes)\n          routes.collect do |route|\n            RouteWrapper.new(route)\n          end.reject(&:internal?).collect do |route|\n            collect_engine_routes(route)\n\n            { name: route.name,\n              verb: route.verb,\n              path: route.path,\n              reqs: route.reqs,\n              source_location: route.source_location }\n          end\n        end","complexity_score":16.1,"ast_json":"{\"type\":\"def\",\"children\":[\"collect_routes\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"routes\"]}]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"routes\"]},\"collect\"]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"route\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"RouteWrapper\"]},\"new\",{\"type\":\"lvar\",\"children\":[\"route\"]}]}]},\"reject\",{\"type\":\"block_pass\",\"children\":[{\"type\":\"sym\",\"children\":[\"internal?\"]}]}]},\"collect\"]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"route\"]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[null,\"collect_engine_routes\",{\"type\":\"lvar\",\"children\":[\"route\"]}]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"name\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"route\"]},\"name\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"verb\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"route\"]},\"verb\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"path\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"route\"]},\"path\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"reqs\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"route\"]},\"reqs\"]}]},{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"source_location\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"route\"]},\"source_location\"]}]}]}]}]}]}","id":"186eccb0-5cb2-4724-a006-362d78b74361"}
{"repo_name":"discourse","file_path":"./repos/discourse/spec/system/page_objects/pages/search.rb","start_line":114,"raw_source":"def has_warning_message?\n        page.has_selector?(\".search-results .warning\")\n      end","complexity_score":2.2,"ast_json":"{\"type\":\"def\",\"children\":[\"has_warning_message?\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"page\"]},\"has_selector?\",{\"type\":\"str\",\"children\":[\".search-results .warning\"]}]}]}","id":"40a6d809-a6ad-4ac3-9637-58154b5ecf61"}
{"repo_name":"gitlabhq","file_path":"./repos/gitlabhq/app/models/user.rb","start_line":2836,"raw_source":"def check_username_format\n    return if username.blank? || !self.class.ends_with_reserved_file_extension?(username)\n\n    errors.add(:username, _('ending with a reserved file extension is not allowed.'))\n  end","complexity_score":13.2,"ast_json":"{\"type\":\"def\",\"children\":[\"check_username_format\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"if\",\"children\":[{\"type\":\"or\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"username\"]},\"blank?\"]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"self\",\"children\":[]},\"class\"]},\"ends_with_reserved_file_extension?\",{\"type\":\"send\",\"children\":[null,\"username\"]}]},\"!\"]}]},{\"type\":\"return\",\"children\":[]},null]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"errors\"]},\"add\",{\"type\":\"sym\",\"children\":[\"username\"]},{\"type\":\"send\",\"children\":[null,\"_\",{\"type\":\"str\",\"children\":[\"ending with a reserved file extension is not allowed.\"]}]}]}]}]}","id":"c620b8b1-99ad-45c3-b0eb-808ab1c93540"}
{"repo_name":"gitlabhq","file_path":"./repos/gitlabhq/app/controllers/concerns/known_sign_in.rb","start_line":47,"raw_source":"def notify_user\n    request_info = Gitlab::Auth::VisitorLocation.new(request)\n    current_user.notification_service.unknown_sign_in(\n      current_user,\n      request.remote_ip,\n      current_user.current_sign_in_at,\n      request_info\n    )\n  end","complexity_score":13.2,"ast_json":"{\"type\":\"def\",\"children\":[\"notify_user\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"request_info\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Gitlab\"]},\"Auth\"]},\"VisitorLocation\"]},\"new\",{\"type\":\"send\",\"children\":[null,\"request\"]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"current_user\"]},\"notification_service\"]},\"unknown_sign_in\",{\"type\":\"send\",\"children\":[null,\"current_user\"]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"request\"]},\"remote_ip\"]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"current_user\"]},\"current_sign_in_at\"]},{\"type\":\"lvar\",\"children\":[\"request_info\"]}]}]}]}","id":"5819af34-4a95-4f69-871f-40e29589c094"}
{"repo_name":"gitlabhq","file_path":"./repos/gitlabhq/app/models/fork_network.rb","start_line":14,"raw_source":"def add_root_as_member\n    projects << root_project\n  end","complexity_score":3.4,"ast_json":"{\"type\":\"def\",\"children\":[\"add_root_as_member\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"projects\"]},\"<<\",{\"type\":\"send\",\"children\":[null,\"root_project\"]}]}]}","id":"c72bc38f-18d5-4b5a-b928-218cfba37b2f"}
{"repo_name":"gitlabhq","file_path":"./repos/gitlabhq/spec/helpers/projects_helper_spec.rb","start_line":717,"raw_source":"def license_name\n      project_license_name(project)\n    end","complexity_score":2.2,"ast_json":"{\"type\":\"def\",\"children\":[\"license_name\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[null,\"project_license_name\",{\"type\":\"send\",\"children\":[null,\"project\"]}]}]}","id":"edccff08-2db3-4fbf-a3f3-ec9b05b89183"}
{"repo_name":"discourse","file_path":"./repos/discourse/plugins/discourse-data-explorer/app/serializers/discourse_data_explorer/query_group_bookmark_serializer.rb","start_line":21,"raw_source":"def bookmarkable_url\n      \"/g/#{data_explorer_query_group.group.name}/reports/#{data_explorer_query_group.query_id}\"\n    end","complexity_score":5.8,"ast_json":"{\"type\":\"def\",\"children\":[\"bookmarkable_url\",{\"type\":\"args\",\"children\":[]},{\"type\":\"dstr\",\"children\":[{\"type\":\"str\",\"children\":[\"/g/\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"data_explorer_query_group\"]},\"group\"]},\"name\"]}]},{\"type\":\"str\",\"children\":[\"/reports/\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"data_explorer_query_group\"]},\"query_id\"]}]}]}]}","id":"55851acc-7f4e-418a-96fc-dfa887322ae7"}
{"repo_name":"discourse","file_path":"./repos/discourse/app/jobs/scheduled/clean_up_uploads.rb","start_line":60,"raw_source":"def last_cleanup=(timestamp)\n      Discourse.redis.setex(last_cleanup_key, 7.days.to_i, timestamp.to_s)\n    end","complexity_score":7.6,"ast_json":"{\"type\":\"def\",\"children\":[\"last_cleanup=\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"timestamp\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Discourse\"]},\"redis\"]},\"setex\",{\"type\":\"send\",\"children\":[null,\"last_cleanup_key\"]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"int\",\"children\":[7]},\"days\"]},\"to_i\"]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"timestamp\"]},\"to_s\"]}]}]}","id":"8d14bd30-0455-4b48-b9f7-5e9372980894"}
{"repo_name":"fastlane","file_path":"./repos/fastlane/spaceship/lib/spaceship/tunes/app_analytics.rb","start_line":65,"raw_source":"def app_sessions\n        start_t, end_t = time_last_7_days\n\n        app_sessions_interval(start_t, end_t)\n      end","complexity_score":5.0,"ast_json":"{\"type\":\"def\",\"children\":[\"app_sessions\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"masgn\",\"children\":[{\"type\":\"mlhs\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"start_t\"]},{\"type\":\"lvasgn\",\"children\":[\"end_t\"]}]},{\"type\":\"send\",\"children\":[null,\"time_last_7_days\"]}]},{\"type\":\"send\",\"children\":[null,\"app_sessions_interval\",{\"type\":\"lvar\",\"children\":[\"start_t\"]},{\"type\":\"lvar\",\"children\":[\"end_t\"]}]}]}]}","id":"822b3267-c36b-4145-84b9-7f711d1f0326"}
{"repo_name":"discourse","file_path":"./repos/discourse/db/migrate/20170628152322_create_watched_words.rb","start_line":4,"raw_source":"def change\n    create_table :watched_words do |t|\n      t.string :word, null: false\n      t.integer :action, null: false\n      t.timestamps null: false\n    end\n\n    add_index :watched_words, %i[action word], unique: true\n  end","complexity_score":6.6,"ast_json":"{\"type\":\"def\",\"children\":[\"change\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[null,\"create_table\",{\"type\":\"sym\",\"children\":[\"watched_words\"]}]},{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"t\"]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"t\"]},\"string\",{\"type\":\"sym\",\"children\":[\"word\"]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"null\"]},{\"type\":\"false\",\"children\":[]}]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"t\"]},\"integer\",{\"type\":\"sym\",\"children\":[\"action\"]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"null\"]},{\"type\":\"false\",\"children\":[]}]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"t\"]},\"timestamps\",{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"null\"]},{\"type\":\"false\",\"children\":[]}]}]}]}]}]},{\"type\":\"send\",\"children\":[null,\"add_index\",{\"type\":\"sym\",\"children\":[\"watched_words\"]},{\"type\":\"array\",\"children\":[{\"type\":\"sym\",\"children\":[\"action\"]},{\"type\":\"sym\",\"children\":[\"word\"]}]},{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"unique\"]},{\"type\":\"true\",\"children\":[]}]}]}]}]}]}","id":"4e9cf93c-de0f-4079-9a63-288d05886134"}
{"repo_name":"fastlane","file_path":"./repos/fastlane/spaceship/lib/spaceship/portal/person.rb","start_line":49,"raw_source":"def factory(attrs)\n          begin\n            attrs['dateJoined'] = Time.parse(attrs['dateJoined'])\n          rescue TypeError\n            # Raised if we start getting integer timestamps\n          rescue ArgumentError\n            # Raised if the string's format can't be parsed\n          end\n          return self.new(attrs)\n        end","complexity_score":5.5,"ast_json":"{\"type\":\"def\",\"children\":[\"factory\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"attrs\"]}]},{\"type\":\"begin\",\"children\":[{\"type\":\"kwbegin\",\"children\":[{\"type\":\"rescue\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"attrs\"]},\"[]=\",{\"type\":\"str\",\"children\":[\"dateJoined\"]},{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Time\"]},\"parse\",{\"type\":\"send\",\"children\":[{\"type\":\"lvar\",\"children\":[\"attrs\"]},\"[]\",{\"type\":\"str\",\"children\":[\"dateJoined\"]}]}]}]},{\"type\":\"resbody\",\"children\":[{\"type\":\"array\",\"children\":[{\"type\":\"const\",\"children\":[null,\"TypeError\"]}]},null,null]},{\"type\":\"resbody\",\"children\":[{\"type\":\"array\",\"children\":[{\"type\":\"const\",\"children\":[null,\"ArgumentError\"]}]},null,null]},null]}]},{\"type\":\"return\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"self\",\"children\":[]},\"new\",{\"type\":\"lvar\",\"children\":[\"attrs\"]}]}]}]}]}","id":"ea53a962-dfdb-4f8e-8521-a5f2d63b3511"}
{"repo_name":"gitlabhq","file_path":"./repos/gitlabhq/spec/support/helpers/kubernetes_helpers.rb","start_line":12,"raw_source":"def kube_pods_response\n    kube_response(kube_pods_body)\n  end","complexity_score":2.2,"ast_json":"{\"type\":\"def\",\"children\":[\"kube_pods_response\",{\"type\":\"args\",\"children\":[]},{\"type\":\"send\",\"children\":[null,\"kube_response\",{\"type\":\"send\",\"children\":[null,\"kube_pods_body\"]}]}]}","id":"6f2e6f7c-8452-41a1-a91b-fcc3cfb85b44"}
{"repo_name":"rails","file_path":"./repos/rails/actionpack/test/controller/integration_test.rb","start_line":541,"raw_source":"def test_https_and_port_via_host_and_https!\n    with_test_route_set do\n      host! \"www.example.com\"\n      https! true\n\n      get \"/get\"\n      assert_equal 443, request.port\n      assert_equal true, request.ssl?\n\n      host! \"www.example.com:443\"\n      https! true\n\n      get \"/get\"\n      assert_equal 443, request.port\n      assert_equal true, request.ssl?\n\n      host! \"www.example.com:8443\"\n      https! true\n\n      get \"/get\"\n      assert_equal 8443, request.port\n      assert_equal true, request.ssl?\n    end\n  end","complexity_score":39.05,"ast_json":"{\"type\":\"def\",\"children\":[\"test_https_and_port_via_host_and_https!\",{\"type\":\"args\",\"children\":[]},{\"type\":\"block\",\"children\":[{\"type\":\"send\",\"children\":[null,\"with_test_route_set\"]},{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"send\",\"children\":[null,\"host!\",{\"type\":\"str\",\"children\":[\"www.example.com\"]}]},{\"type\":\"send\",\"children\":[null,\"https!\",{\"type\":\"true\",\"children\":[]}]},{\"type\":\"send\",\"children\":[null,\"get\",{\"type\":\"str\",\"children\":[\"/get\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"int\",\"children\":[443]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"request\"]},\"port\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"true\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"request\"]},\"ssl?\"]}]},{\"type\":\"send\",\"children\":[null,\"host!\",{\"type\":\"str\",\"children\":[\"www.example.com:443\"]}]},{\"type\":\"send\",\"children\":[null,\"https!\",{\"type\":\"true\",\"children\":[]}]},{\"type\":\"send\",\"children\":[null,\"get\",{\"type\":\"str\",\"children\":[\"/get\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"int\",\"children\":[443]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"request\"]},\"port\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"true\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"request\"]},\"ssl?\"]}]},{\"type\":\"send\",\"children\":[null,\"host!\",{\"type\":\"str\",\"children\":[\"www.example.com:8443\"]}]},{\"type\":\"send\",\"children\":[null,\"https!\",{\"type\":\"true\",\"children\":[]}]},{\"type\":\"send\",\"children\":[null,\"get\",{\"type\":\"str\",\"children\":[\"/get\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"int\",\"children\":[8443]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"request\"]},\"port\"]}]},{\"type\":\"send\",\"children\":[null,\"assert_equal\",{\"type\":\"true\",\"children\":[]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"request\"]},\"ssl?\"]}]}]}]}]}","id":"4d43fb4e-5ee5-476e-83f8-09612d9363b3"}
{"repo_name":"rails","file_path":"./repos/rails/actionpack/lib/action_dispatch/journey/path/pattern.rb","start_line":165,"raw_source":"def match?(other)\n          to_regexp.match?(other)\n        end","complexity_score":2.2,"ast_json":"{\"type\":\"def\",\"children\":[\"match?\",{\"type\":\"args\",\"children\":[{\"type\":\"arg\",\"children\":[\"other\"]}]},{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"to_regexp\"]},\"match?\",{\"type\":\"lvar\",\"children\":[\"other\"]}]}]}","id":"538f2af3-a63a-46b9-8bdd-e73a670b5743"}
{"repo_name":"spree","file_path":"./repos/spree/core/app/models/spree/product.rb","start_line":747,"raw_source":"def ensure_default_shipping_category\n      return if shipping_category.present?\n\n      if new_record?\n        name = I18n.t('spree.seed.shipping.categories.default')\n        self.shipping_category = Spree::ShippingCategory.find_or_create_by!(name: name)\n      end\n    end","complexity_score":10.0,"ast_json":"{\"type\":\"def\",\"children\":[\"ensure_default_shipping_category\",{\"type\":\"args\",\"children\":[]},{\"type\":\"begin\",\"children\":[{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[{\"type\":\"send\",\"children\":[null,\"shipping_category\"]},\"present?\"]},{\"type\":\"return\",\"children\":[]},null]},{\"type\":\"if\",\"children\":[{\"type\":\"send\",\"children\":[null,\"new_record?\"]},{\"type\":\"begin\",\"children\":[{\"type\":\"lvasgn\",\"children\":[\"name\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[null,\"I18n\"]},\"t\",{\"type\":\"str\",\"children\":[\"spree.seed.shipping.categories.default\"]}]}]},{\"type\":\"send\",\"children\":[{\"type\":\"self\",\"children\":[]},\"shipping_category=\",{\"type\":\"send\",\"children\":[{\"type\":\"const\",\"children\":[{\"type\":\"const\",\"children\":[null,\"Spree\"]},\"ShippingCategory\"]},\"find_or_create_by!\",{\"type\":\"hash\",\"children\":[{\"type\":\"pair\",\"children\":[{\"type\":\"sym\",\"children\":[\"name\"]},{\"type\":\"lvar\",\"children\":[\"name\"]}]}]}]}]}]},null]}]}]}","id":"8c5710a8-cc60-456e-84b0-19bc80329b63"}
